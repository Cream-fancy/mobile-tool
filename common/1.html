<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <style type="text/css">

.dx-form .dx-form_footer[data-v-17266236] {
    padding: .266667rem .426667rem
}

.dx-form .dx-form_footer .dx-btn-group[data-v-17266236] {
    display: flex;
    justify-content: space-around;
    width: 100%
}

.dx-form .dx-form_footer .dx-btn-group .dx-btn[data-v-17266236] {
    flex-basis: 40%
}
    </style>
  </head>
  <body>

  </body>
  <script type="text/javascript">
    /*
  		px和rem单位互转
  		content: 样式表的内容
  		unit: 需要替换的单位名称
  		updateUnit: 替换后的单位名称
  		rule: 
  			单位换算规则，多少rem = px || px = rem
  			例如：当rule为100时即表示 1rem = 100px
  	*/
    function pxAndRemInterturn({
      content,
      unit,
      rule,
      updateUnit
    }) {
      rule = rule || 100
      if (!rule) return content;
      const reg = {
        px: /[\:]*[\s]*[-]*[\s]*[0-9]*[\.]*[0-9]*\p\x/g,
        rem: /[\:]*[\s]*[-]*[\s]*[0-9]*[\.]*[0-9]*rem/g,
        number: /[0-9]*[\.]*[0-9]*/g
      }
      // 获取到所有匹配的内容
      const res = content.match(reg[unit])
      // 传进来的是正则匹配的结构内容
      function getRightData(arr) {
        const result = []
        for (let i = 0; i < arr.length; i++) {
          result.push(Number(arr[i].replace(new RegExp(' ', "gm"), '').replace(':', '').replace(unit, '')))
        }
        return result
      }
      const rightData = getRightData(res)

      // 单位换算
      function unitConversion({
        num,
        unit,
        updateUnit,
        rule
      }) {
        let res = ''
        if (unit === 'px' && updateUnit === 'rem') {
          res = num / rule
        } else if (unit === 'rem' && updateUnit === 'px') {
          res = num * rule
        }
        return ' ' + res + updateUnit
      }

      for (let i = 0; i < rightData.length; i++) {
        let txt = unitConversion({
          num: rightData[i],
          unit,
          updateUnit,
          rule
        })
        if (res[i].indexOf(':') >= 0) {
          txt = ': ' + txt
        }
        content = content.replace(res[i], txt)
      }
      return content
    }

    const styleContent = document.querySelector('style').innerHTML

    const updateContent = pxAndRemInterturn({
      content: styleContent,
      unit: 'rem',
      updateUnit: 'px',
      rule: 35.8
    })
    document.querySelector('body').innerHTML = updateContent
  </script>
</html>
